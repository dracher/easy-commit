# Easy Commit

This CLI tool automatically generates informative Git commit messages.  Using OpenAI models, it analyzes diffs to create concise, descriptive messages adhering to best practices.

## Requirements

- Go version 1.21.1 or higher.
- An OpenAI(other compatible provider) API key.

## Installation

1. Ensure you have Go installed on your system (version 1.21+).
2. Clone the repository to your local machine.
3. Navigate to the cloned directory and run `go build && go install` to compile the application.

## Usage

Below is an example using a locally deployed model.

### Install Ollama

Install `ollama` from https://ollama.com

### Pull the model

we use `gemma3n:e4b`, this model consumes very few resources and is very suitable for running in a local environment.

```shell
> ollama pull gemma3n:e4b
```

### Build `easy-commit` binary

1. Ensure you have Go installed on your system (version 1.21+).
2. Clone the repository to your local machine.
3. Navigate to the cloned directory and run `go build && go install` to compile the application.
4. run `easy-commit -h` to see the usage.


```shell
NAME:
   easy-commit - Let AI generate commit messages based on `git diff` output.

USAGE:
   easy-commit [options] <valid git repository root>

GLOBAL OPTIONS:
   --dry-run, -d                    If true will only print generated commit message (default: false)
   --api-key string, -k string      OpenAI(or other compatible service providers) API key [$EC_APIKEY]
   --model string, -m string        The model to use (default: "gpt-3.5-turbo") [$EC_MODEL_NAME]
   --base-url string, --url string  Can be any openai compatible service (default: "https://api.openai.com") [$EC_BASE_URL]
   --message-length int, -l int     Maximum length of the commit message in words (default: 30)
   --prompt-size string, -s string  The extent of detail and comprehensiveness of the prompt words, 'small' or 'big' (default: "small")
   --help, -h                       show help

```

### Generate the commit message

run `easy-commit` under any vaild git repository

```shell
./easy-commit -d -k 'ollama' --url 'http://localhost:11434/v1' -m 'gemma3n:e4b-it-fp16' -l 100
```

it will generate follow content

```
feat(ai): implement commit message generation with openai integration
add ai.go with openai client setup and prompt generation logic
add prompts.go with system prompts for commit message formatting
support both mini and big prompt configurations for different use cases
```

And for real example you can check the commit history of this projecct, almost
all commit message generated by this tool.